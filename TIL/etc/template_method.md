> OCP 

 객체 지향 설계의 핵심 원칙인 개방 폐쇄원칙 
 -> 확장에는 열려있고 변경에는 굳게 닫혀 있음. 

  * 변화의 특성을 다른곳에서 구분하고 독립적으로 변경될 수 있는 효율적인 구조 만들어줌 

*템플렛*
*: 바뀌는 성질이 다른 코드 중 변경이 거의 일어나지 않으며*
*일정한 패턴으로 유지되는 특성을 가진 부분을 자유롭게 변경되는 성질을 가지느 부분으로부터 독립시켜 효과적으로 활용할 수 있도록 하는 방법*

*템플렛 메소드 패턴*
: 상속을 통해 기능을 확장해서 사용함. 
- 변하지 않는 부분은 슈퍼 클래스에 두고 변하는 부분을 ==추상 메소드로 정의해 오버라이드==를 가능하게 해 새롭게 정의하도록 제공 
- 단점 
	- 확장구조가 클래스를 설계하는 시점 고정되어 버린다. 
	- 클래스 레벨에서 컴파일 시점에 이미 관계가 결정되어 유연성이 떨어져 버림. 


*전략 패턴*
: OCP 원칙을 잘 지키며 템플렛 메소드 보다 유연하고 확장성이 뛰어난 

![[Pasted image 20221125093611.png]]

* 오브젝트를 둘로 분리하고 클래스 레벨에서는 인터페이스를 통해서만 의존하게 만드는 전략 패턴
* 확장에 해당하는 변하는 부분을 별도의 클래스로 ==추상화된 인터페이스==를 동해 위임
* 필요에 따라 컨텍스트는 유지하며 전략을 바꿔 쓸수 있음 => 벗! 컨텍스트 안에서 이미 구체적인 전략을 사용하도록 고정되어 있으면 OCP 에 잘 들어맞는 것은 아니다. 

> DI / IoC

* DI 
	* 인터페이스를 사이에 둬서 클래스 레벨에서는 의존관계가 고정되지 않게
	* 런타임 시에 의존할 오브젝트와의 관계를 주입
	* 인터페이스를 사용하지 않았으면 엄밀히 온전한 DI 가 아니다. 
	
* IoC : 
	* 스프링의 DI 는 넓개 보면 객체의 생성과 관계 설정에 대한 제어권한을 오브젝트에서 제거하고 외부로 위임했다는 IoC 개념 포괄 


> 템플렛/콜백 패턴 

전략 패턴의 기본 구조에 익명 내부 클래스를 활용한 방식 
* 전략 패턴의 컨텍스트를 템플렛이라 부르고
* 익명 내부 클랫로 만들어진 오브젝트를 콜백이라고 함. 

![[Pasted image 20221125102924.png]]

*템플렛*
* 어떤 목적을 위해 미리 만들어둔 모양이 있는 틀 
* ex. JSP 는 HTML 이라는 고정된 부분에 EL 과 스크립릿이라는 변하는 부분을 넣은 일종의 템플렛 파일이다. 
* 고정의 틀의 로직을 `슈퍼클래스`에 두고 바뀌는 부분을 `서브 클래스` 메소드에 두는 구조

*콜백*
* 실행되는 것을 목적으로 다른 오브젝트의 메소드에 전달되는 오브젝트
* 파라미터로 전달하지만 참조 목적이 아닌 특정 호직을 담은 메소드 실행 목적 
* functional object

[특징]
* 단일 메소드 인터페이스를 사용
	* *차이* => 여러 개의 메소드를 가진 인터페이스를 사용 가능한 전략 패턴
* 하나의 템플렛 에서 여러가지 전략을 사용해야 한다면 하나 이상의 콜백 오브젝트를 사용 가능 

=> **전략 패턴과 DI 의 장점을 익명 내부 클래스 사용 전략과 결합한 독특한 활용법**
